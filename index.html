<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="USBH_MIDI : USB MIDI class driver for Arduino USB Host Shield 2.0 Library">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>USBH_MIDI</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/YuuichiAkagawa/USBH_MIDI">View on GitHub</a>

          <h1 id="project_title">USBH_MIDI</h1>
          <h2 id="project_tagline">USB MIDI class driver for Arduino USB Host Shield 2.0 Library</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/YuuichiAkagawa/USBH_MIDI/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/YuuichiAkagawa/USBH_MIDI/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>USBH_MIDI is USB-MIDI class driver for Arduino <a href="https://github.com/felis/USB_Host_Shield_2.0">USB Host Shield 2.0 Library</a>.<br>
You can convert USB MIDI keyboard  to legacy serial MIDI.<br>
Please check <a href="https://github.com/YuuichiAkagawa/USBH_MIDI/wiki">device list</a></p>

<h2>
<a id="how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to install</h2>

<p>USBH_MIDI is included in <a href="https://github.com/felis/USB_Host_Shield_2.0">USB Host Shield 2.0 Library</a>.</p>

<h3>
<a id="for-single-device" class="anchor" href="#for-single-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>for single device</h3>

<blockquote>
<p>File-&gt;Examples-&gt;USB Host Shield library 2.0-&gt;USBH_MIDI-&gt;USB_MIDI_converter</p>
</blockquote>

<h3>
<a id="for-multiple-device-with-usb-hub" class="anchor" href="#for-multiple-device-with-usb-hub" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>for multiple device (with USB hub)</h3>

<blockquote>
<p>File-&gt;Examples-&gt;USB Host Shield library 2.0-&gt;USBH_MIDI-&gt;USB_MIDI_converter_multi</p>
</blockquote>

<h2>
<a id="api" class="anchor" href="#api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API</h2>

<h3>
<a id="uint8_t-recvdatauint8_t-outbuf" class="anchor" href="#uint8_t-recvdatauint8_t-outbuf" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>uint8_t RecvData(uint8_t *outBuf)</code>
</h3>

<p>Receive MIDI message (3 bytes)<br>
  return value is MIDI message length(0-3)</p>

<hr>

<h3>
<a id="uint8_t-recvdatauint16_t-bytes_rcvd-uint8_t-dataptr" class="anchor" href="#uint8_t-recvdatauint16_t-bytes_rcvd-uint8_t-dataptr" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>uint8_t RecvData(uint16_t *bytes_rcvd, uint8_t *dataptr)</code>
</h3>

<p>Receive raw USB-MIDI Event Packets (each 4 bytes, upto 64 bytes).<br>
  <code>dataptr</code> must allocate 64bytes buffer.<br>
  return value is 0:Success, non-zero:Error(MAX3421E HRSLT) and bytes_rcvd is received USB packet length.<br>
  note: USB packet length is not necessarily the length of the MIDI message.</p>

<hr>

<h3>
<a id="uint8_t-senddatauint8_t-dataptr-byte-ncable0" class="anchor" href="#uint8_t-senddatauint8_t-dataptr-byte-ncable0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>uint8_t SendData(uint8_t *dataptr, byte nCable=0)</code>
</h3>

<p>Send MIDI message. You can set CableNumber(default=0).<br>
  return value is 0:Success, non-zero:Error(MAX3421E HRSLT)</p>

<hr>

<h3>
<a id="uint8_t-sendsysexuint8_t-dataptr-unsigned-int-datasize-byte-ncable0" class="anchor" href="#uint8_t-sendsysexuint8_t-dataptr-unsigned-int-datasize-byte-ncable0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>uint8_t SendSysEx(uint8_t *dataptr, unsigned int datasize, byte nCable=0)</code>
</h3>

<p>Send SysEx MIDI message. You can set CableNumber(default=0).<br>
  return value is 0:Success, non-zero:Error(MAX3421E HRSLT)<br>
  note: You must set first byte:0xf0 and last byte:0xf7</p>

<hr>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Copyright Â© 2012-2016 Yuuichi Akagawa (<a href="https://github.com/YuuichiAkagawa" class="user-mention">@YuuichiAkagawa</a>)</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">USBH_MIDI maintained by <a href="https://github.com/YuuichiAkagawa">YuuichiAkagawa</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
